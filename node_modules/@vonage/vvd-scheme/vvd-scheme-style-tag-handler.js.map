{"version":3,"file":"vvd-scheme-style-tag-handler.js","sourceRoot":"","sources":["src/vvd-scheme-style-tag-handler.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,gBAAgB,EAAE,MAAM,4BAA4B,CAAC;AAM9D,MAAM,eAAe,GAAsD,CAC1E,MAAwB,EACvB,EAAE;IACH,QAAQ,MAAM,EAAE;QAChB,KAAK,gBAAgB,CAAC,IAAI;YACzB,OAAO,MAAM,CAAC,sBAAsB,CAAC,CAAC;QACvC,KAAK,gBAAgB,CAAC,KAAK,CAAC;QAC5B;YACC,OAAO,MAAM,CAAC,uBAAuB,CAAC,CAAC;KACvC;AACF,CAAC,CAAC;AAEF,MAAM,mBAAmB,GAAG,kBAAkB,CAAC;AAC/C,MAAM,KAAK,GAAG,gBAAgB,CAAC,mBAAmB,CAAC,CAAC;AAEpD,SAAS,gBAAgB,CAAC,qBAA6B;IACtD,IAAI,MAAM,CAAC;IACX,MAAM,QAAQ,GAAG,QAAQ,CAAC,gBAAgB,CAAC,IAAI,qBAAqB,EAAE,CAAC,CAAC;IACxE,IAAI,QAAQ,CAAC,MAAM,EAAE;QACpB,OAAO,CAAC,KAAK,CACZ,SAAS,QAAQ,CAAC,MAAM,sFAAsF,CAC9G,CAAC;QACF,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAqB,CAAC;KACzC;SAAM;QACN,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACzC,MAAM,CAAC,SAAS,GAAG,mBAAmB,CAAC;QACvC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;KAClC;IACD,OAAO,MAAM,CAAC;AACf,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,cAAc,CAAC,MAAwB;IAC5D,MAAM,YAAY,GAAG,MAAM,eAAe,CAAC,MAAM,CAAC,CAAC;IAEnD,MAAM,SAAS,GAA0B,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,KAAK,CAAC;IAC7D,IAAI,SAAS,EAAE;QACd,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC,OAAO,IAAI,EAAE,CAAC;KAC1C;AACF,CAAC","sourcesContent":["import type { CSSResult } from 'lit-element';\nimport { PredefinedScheme } from './vvd-scheme-foundation.js';\n\ntype ModuleType =\n\t| typeof import('./scheme.dark.css.js')\n\t| typeof import('./scheme.light.css.js');\n\nconst getSchemeModule: (scheme: PredefinedScheme) => Promise<ModuleType> = (\n\tscheme: PredefinedScheme\n) => {\n\tswitch (scheme) {\n\tcase PredefinedScheme.DARK:\n\t\treturn import('./scheme.dark.css.js');\n\tcase PredefinedScheme.LIGHT:\n\tdefault:\n\t\treturn import('./scheme.light.css.js');\n\t}\n};\n\nconst STYLE_ELEMENT_CLASS = 'vvd-scheme-style';\nconst style = ensureStyleMount(STYLE_ELEMENT_CLASS);\n\nfunction ensureStyleMount(schemeStylesheetClass: string): HTMLStyleElement {\n\tlet result;\n\tconst existing = document.querySelectorAll(`.${schemeStylesheetClass}`);\n\tif (existing.length) {\n\t\tconsole.error(\n\t\t\t`found ${existing.length} scheme styles upon init while expected for 1, check your dependencies configuration`\n\t\t);\n\t\tresult = existing[0] as HTMLStyleElement;\n\t} else {\n\t\tresult = document.createElement('style');\n\t\tresult.className = STYLE_ELEMENT_CLASS;\n\t\tdocument.head.appendChild(result);\n\t}\n\treturn result;\n}\n\nexport async function applySchemeCSS(scheme: PredefinedScheme): Promise<void> {\n\tconst schemeModule = await getSchemeModule(scheme);\n\n\tconst cssResult: CSSResult | undefined = schemeModule?.style;\n\tif (cssResult) {\n\t\tstyle.innerHTML = cssResult.cssText || '';\n\t}\n}\n"]}