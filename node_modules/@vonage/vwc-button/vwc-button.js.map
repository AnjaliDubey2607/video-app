{"version":3,"file":"vwc-button.js","sourceRoot":"","sources":["src/vwc-button.ts"],"names":[],"mappings":"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","sourcesContent":["import '@vonage/vvd-core';\nimport '@vonage/vwc-icon';\nimport {\n\tcustomElement, property, html, TemplateResult\n} from 'lit-element';\nimport { classMap } from 'lit-html/directives/class-map.js';\nimport { Button as MWCButton } from '@material/mwc-button';\nimport { style as vwcButtonStyle } from './vwc-button.css.js';\nimport { styles as mwcButtonStyles } from '@material/mwc-button/styles.css.js';\nimport { style as styleCoupling } from '@vonage/vvd-style-coupling/mdc-vvd-coupling.css.js';\nimport type { Connotation, Layout, Shape } from '@vonage/vvd-foundation/constants.js';\nimport type { PropertyValues } from 'lit-element';\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'vwc-button': VWCButton;\n\t}\n}\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-ignore\nMWCButton.styles = [styleCoupling, mwcButtonStyles, vwcButtonStyle];\n\nexport type ButtonLayout = Extract<\n\tLayout,\n\tLayout.Filled | Layout.Outlined | Layout.Ghost\n>;\n\nconst types = ['submit', 'reset', 'button'];\nexport type ButtonType = typeof types;\n\ntype ButtonConnotation = Extract<\n\tConnotation,\n\t| Connotation.Primary\n\t| Connotation.CTA\n\t| Connotation.Success\n\t| Connotation.Alert\n\t| Connotation.Info\n\t| Connotation.Announcement\n>;\n\ntype ButtonShape = Extract<Shape, Shape.Rounded | Shape.Pill>;\n\n/**\n * This component is an extension of [<mwc-button>](https://github.com/material-components/material-components-web-components/tree/master/packages/button)\n * Our button supports native features like the 'form' and 'type' attributes\n */\n@customElement('vwc-button')\nexport class VWCButton extends MWCButton {\n\t@property({ type: String, reflect: true })\n\t\tname?: string;\n\n\t@property({ type: String, reflect: true })\n\t\tvalue?: string;\n\n\t@property({ type: Boolean, reflect: true })\n\toverride dense = false;\n\n\t@property({ type: Boolean, reflect: true })\n\t\tenlarged = false;\n\n\t@property({ type: String, reflect: true })\n\t\tlayout?: ButtonLayout;\n\n\t@property({ type: String, reflect: true })\n\t\tconnotation?: ButtonConnotation;\n\n\t@property({ type: String, reflect: true })\n\t\tshape?: ButtonShape;\n\n\t@property({ type: String, reflect: true })\n\t\ttype: ButtonType[number] = 'submit';\n\n\t@property({ attribute: 'form', reflect: true })\n\t\tformId: string | null = null;\n\n\t@property({ type: Boolean, reflect: true })\n\t\tstacked = false;\n\n\t#_hiddenButton: HTMLButtonElement = VWCButton.createHiddenButton();\n\n\tprotected updateFormAndButton(): void {\n\t\tconst formId = this.getAttribute('form');\n\t\tif (formId !== null) {\n\t\t\tthis.#_hiddenButton?.setAttribute('form', formId);\n\t\t}\n\t}\n\n\toverride attributeChangedCallback(\n\t\tname: string,\n\t\toldval: string | null,\n\t\tnewval: string | null\n\t): void {\n\t\tif (name === 'form' && newval && newval !== oldval) {\n\t\t\tthis.#_hiddenButton?.setAttribute('form', newval);\n\t\t} else {\n\t\t\tsuper.attributeChangedCallback(name, oldval, newval);\n\t\t}\n\t}\n\n\tprotected override update(changes: PropertyValues): void {\n\t\tsuper.update(changes);\n\t\t[...changes.keys()]\n\t\t\t.filter(attributeName => ['name', 'value'].includes(attributeName as string))\n\t\t\t.forEach((attributeName) => {\n\t\t\t\tthis.#_hiddenButton.setAttribute(attributeName as string, (this as any)[attributeName as string]);\n\t\t\t});\n\t}\n\n\tprotected override updated(changes: Map<string, boolean>): void {\n\t\tif (changes.has('type')) {\n\t\t\tthis.#_hiddenButton?.setAttribute('type', this.getAttribute('type') ?? '');\n\t\t}\n\n\t\tthis.toggleAttribute('outlined', this.layout === 'outlined');\n\t\tthis.toggleAttribute('unelevated', this.layout === 'filled');\n\n\t\tif (changes.has('dense')) {\n\t\t\tif (this.dense && this.enlarged) {\n\t\t\t\tthis.enlarged = false;\n\t\t\t}\n\t\t}\n\n\t\tif (changes.has('enlarged')) {\n\t\t\tif (this.enlarged && this.dense) {\n\t\t\t\tthis.removeAttribute('dense');\n\t\t\t\tthis.dense = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tget form(): HTMLFormElement | null {\n\t\treturn (this.#_hiddenButton as HTMLButtonElement).form;\n\t}\n\n\tset form(_: HTMLFormElement | null) {\n\t\t// return nothing\n\t}\n\n\tprotected _handleClick(event: MouseEvent): void {\n\t\tif (this.form) {\n\t\t\tswitch (this.getAttribute('type')) {\n\t\t\tcase 'reset':\n\t\t\t\tthis.form.reset();\n\t\t\t\tbreak;\n\t\t\tcase 'button':\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (event.target === this) {\n\t\t\t\t\tthis.#_hiddenButton.click();\n\t\t\t\t} else {\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected override renderIcon(): TemplateResult {\n\t\treturn html`<vwc-icon\ttype=\"${this.icon}\"></vwc-icon>`;\n\t}\n\n\tprotected override getRenderClasses() {\n\t\treturn classMap({\n\t\t\t'mdc-button--raised': this.raised,\n\t\t\t'mdc-button--unelevated': this.unelevated,\n\t\t\t'mdc-button--outlined': this.outlined,\n\t\t\t'mdc-button--dense': this.dense,\n\t\t\t[`connotation-${this.connotation}`]: !!this.connotation,\n\t\t\t[`layout-${this.layout}`]: !!this.layout,\n\t\t\t'button-stacked': this.stacked,\n\t\t});\n\t}\n\n\tstatic createHiddenButton(): HTMLButtonElement {\n\t\tconst button = document.createElement('button');\n\t\tbutton.style.display = 'none';\n\t\treturn button;\n\t}\n\n\toverride connectedCallback(): void {\n\t\tsuper.connectedCallback();\n\t\tthis.addEventListener('click', this._handleClick);\n\t\tthis.appendChild(this.#_hiddenButton);\n\t}\n\n\toverride disconnectedCallback(): void {\n\t\tsuper.disconnectedCallback();\n\t\tthis.removeEventListener('click', this._handleClick);\n\t}\n}\n\n"]}