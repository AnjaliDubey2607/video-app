"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("events"),n=e(require("@opentok/client")),i=e(require("opentok-layout-js")),r=e(require("resize-observer-polyfill")),a=require("lodash"),o=e(require("jss")),u=e(require("jss-preset-default")),c=e(require("jss-plugin-camel-case")),s=e(require("opentok-solutions-logging")),l=e(require("ua-parser-js"));function A(e,t,n,i,r,a,o){try{var u=e[a](o),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(i,r)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){A(a,i,r,o,u,"next",e)}function u(e){A(a,i,r,o,u,"throw",e)}o(void 0)}))}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function b(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t.indexOf(n=a[i])>=0||(r[n]=e[n]);return r}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return e(t={exports:{}},t.exports),t.exports}var f=v((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=Object.create((t&&t.prototype instanceof A?t:A).prototype),a=new I(i||[]);return r._invoke=function(e,t,n){var i="suspendedStart";return function(r,a){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw a;return{value:void 0,done:!0}}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=s(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),r}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function A(){}function d(){}function g(){}var p={};p[r]=function(){return this};var b=Object.getPrototypeOf,m=b&&b(b(y([])));m&&m!==t&&n.call(m,r)&&(p=m);var v=g.prototype=A.prototype=Object.create(p);function f(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function h(e,t){var i;this._invoke=function(r,a){function o(){return new t((function(i,o){!function i(r,a,o,u){var c=s(e[r],e,a);if("throw"!==c.type){var l=c.arg,A=l.value;return A&&"object"==typeof A&&n.call(A,"__await")?t.resolve(A.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(A).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(c.arg)}(r,a,i,o)}))}return i=i?i.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=s(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,l;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function y(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=v.constructor=g,g.constructor=d,d.displayName=u(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},f(h.prototype),h.prototype[a]=function(){return this},e.AsyncIterator=h,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new h(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},f(v),u(v,o,"Generator"),v[r]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=y,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:y(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})),h=function(e){if(e instanceof HTMLElement)return e;if("string"==typeof e){var t=document.getElementById(e);if(!t)throw new Error("Invalid element. Element not found: "+e);return t}throw new Error("element must be string or HTMLElement. Found: "+e)},E=function(e,t){void 0===t&&(t={});var n=document.createElement("div");return n.id=e,Object.entries(t).forEach((function(e){n.style.setProperty(e[0],e[1])})),n};o.setup(u()),o.use(c());var M,C=function(e){return o.createStyleSheet(e).attach().classes},I={NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4},y=I.NONE,S=function(){var e;y>=I.ERROR&&(e=console).error.apply(e,arguments)},D=function(){var e;y>=I.WARN&&(e=console).warn.apply(e,arguments)},w=function(){var e;y>=I.INFO&&(e=console).info.apply(e,arguments)},Q=function(){var e;y>=I.DEBUG&&(e=console).debug.apply(e,arguments)},B=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},P=function(){function e(e){this.hiddenElements=[],this.visibleElements=[],this._elementsOrderedByDisplayPriority=[],this.PARTICIPANT_DISPLAY_LIMIT=e}var t=e.prototype;return t._removeLastActiveVisibleElement=function(){var e=this,t=this.visibleElements[0];this.visibleElements.forEach((function(n){e._elementsOrderedByDisplayPriority.indexOf(n)<e._elementsOrderedByDisplayPriority.indexOf(t)&&(t=n)})),B(this.visibleElements,t),this.hiddenElements.push(t)},t.onActiveSpeakerChanged=function(e){this._currentActiveSpeakerElement=e,e&&(B(this._elementsOrderedByDisplayPriority,e),this._elementsOrderedByDisplayPriority.push(e),this.hiddenElements.includes(e)&&(B(this.hiddenElements,this._currentActiveSpeakerElement),this.visibleElements.push(e)),this.visibleElements.length>this.PARTICIPANT_DISPLAY_LIMIT&&this._removeLastActiveVisibleElement())},t.onSubscriberCreated=function(e){this.visibleElements.length>=this.PARTICIPANT_DISPLAY_LIMIT&&this._removeLastActiveVisibleElement(),this.visibleElements.push(e),this._elementsOrderedByDisplayPriority.push(e)},t.onSubscriberRemoved=function(e){if(B(this.hiddenElements,e),B(this.visibleElements,e),B(this._elementsOrderedByDisplayPriority,e),this.visibleElements.length<this.PARTICIPANT_DISPLAY_LIMIT&&this.hiddenElements.length>0){var t=this.hiddenElements.pop();t&&this.visibleElements.push(t)}},e}(),N=C({audioButton:{position:"absolute",left:12,bottom:12,height:24,width:24,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(15px)",borderRadius:6,opacity:0,"transition-property":"opacity","transition-duration":"0.5s","transition-timing-function":"ease-in","&:hover":{background:"#000000"},"&.audio-disabled":{background:"#E61D1D",opacity:1},"&:hover.audio-disabled":{background:"#9F0202"},"&.audio-enabled .icon-disabled":{display:"none"},"&.audio-disabled .icon-enabled":{display:"none"},"&.subscriber-audio-button":{display:"none"}},icon:{height:12,width:12}}),L=function(e){var t,n=document.createElement("img");n.src=e;for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return(t=n.classList).add.apply(t,[N.icon].concat(r)),n},k=function(e){var t=e.isAudioEnabled,n=e.enabledIcon,i=e.disabledIcon,r=e.type,a=document.createElement("button");return a.classList.add(N.audioButton,"video-audio-button","publisher"===r?"publisher-audio-button":"subscriber-audio-button"),a.appendChild(n),a.appendChild(i),a.classList.add(t?"audio-enabled":"audio-disabled"),{element:a,setEnabled:function(){a.classList.remove("audio-disabled"),a.classList.add("audio-enabled")},setDisabled:function(){a.classList.remove("audio-enabled"),a.classList.add("audio-disabled")}}},z=C({name:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(15px)",borderRadius:"6px",paddingLeft:"8px",paddingRight:"8px",textAlign:"center",fontSize:"14px",fontStyle:"normal",lineHeight:"24px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"80%",marginLeft:"12px"}}),T=C({networkQualityWarning:{display:"flex",justifyContent:"center",alignItems:"center",height:"24px",minWidth:"24px",background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(15px)",borderRadius:"6px",opacity:0},networkQualityIcon:{width:"20px",height:"20px"},active:{opacity:1}}),x=C({videoOverlay:{position:"relative",width:"100%",height:"100%",zIndex:1,"&:hover .video-audio-button":{opacity:1}},bottomRightContainer:{maxWidth:"calc(100% - 68px)",position:"absolute",bottom:12,top:"auto",right:12,display:"flex",width:"100%",justifyContent:"flex-end"}}),O=function(e){var n=e.targetId,i=e.participantName,r=e.isAudioEnabled,a=e.type,o=document.getElementById(n);if(o){var u,c,s;"publisher"===a?(u="MP_publisher_overlay",c="MP_camera_publisher_default_controls",s=function(e){var t=L("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgOCA4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNCAwQzQuNTQ3NjggMCA1LjA0NzkzIDAuMjAwMTIxIDUuNDI5NDIgMC41MzAxNDNMMS45ODE4NCAzLjk3NzcyQzEuODg1OTcgMy43MzY3NCAxLjgzMzMzIDMuNDc0NDIgMS44MzMzMyAzLjJWMi4xMzMzM0MxLjgzMzMzIDAuOTU1MiAyLjgwMzQ2IDAgNCAwWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTEgMy40NDQ0NEMxIDMuODc0NzggMS4xMTQ2OCA0LjI4MTMxIDEuMzE4MzUgNC42NDEyMUwwLjYxNzAzNCA1LjM0MjUyQzAuMjI2MjE5IDQuNzkzMzEgMCA0LjE0MjM2IDAgMy40NDQ0NEMwIDMuMTk4OTggMC4yMjM4NTggMyAwLjUgM0MwLjc3NjE0MiAzIDEgMy4xOTg5OCAxIDMuNDQ0NDRaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMi4xMjIzNyA2LjU4NDczQzIuNTQyNTUgNi43ODM2NSAzLjAwNzM2IDYuOTE3ODkgMy41IDYuOTcyNDlWOEg0LjVWNi45NzI0OUM2LjQ3MzE2IDYuNzUzNzggOCA1LjI1NzYxIDggMy40NDQ0NEM4IDMuMTk4OTggNy43NzYxNCAzIDcuNSAzQzcuMjIzODYgMyA3IDMuMTk4OTggNyAzLjQ0NDQ0QzcgNC45MTcyMSA1LjY1Njg2IDYuMTExMTEgNCA2LjExMTExQzMuNTc4MzMgNi4xMTExMSAzLjE3Njk3IDYuMDMzNzggMi44MTI5MSA1Ljg5NDJMMy40NDQ1NCA1LjI2MjU3QzMuNjIxODEgNS4zMDg3NCAzLjgwNzk5IDUuMzMzMzMgNCA1LjMzMzMzQzUuMTk2NTQgNS4zMzMzMyA2LjE2NjY3IDQuMzc4MTMgNi4xNjY2NyAzLjJWMi41NDA0NEw3Ljg1MzU1IDAuODUzNTUzQzguMDQ4ODIgMC42NTgyOTEgOC4wNDg4MiAwLjM0MTcwOSA3Ljg1MzU1IDAuMTQ2NDQ3QzcuNjU4MjkgLTAuMDQ4ODE1NSA3LjM0MTcxIC0wLjA0ODgxNTUgNy4xNDY0NSAwLjE0NjQ0N0wwLjE0NjQ0NyA3LjE0NjQ1Qy0wLjA0ODgxNTUgNy4zNDE3MSAtMC4wNDg4MTU1IDcuNjU4MjkgMC4xNDY0NDcgNy44NTM1NUMwLjM0MTcwOSA4LjA0ODgxIDAuNjU4MjkxIDguMDQ4ODEgMC44NTM1NTMgNy44NTM1NUwyLjEyMjM3IDYuNTg0NzNaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4=","icon-disabled"),n=L("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgOCA4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMS44MzMzMyAzLjJDMS44MzMzMyA0LjM3ODEzIDIuODAzNDYgNS4zMzMzMyA0IDUuMzMzMzNDNS4xOTY1NCA1LjMzMzMzIDYuMTY2NjcgNC4zNzgxMyA2LjE2NjY3IDMuMlYyLjEzMzMzQzYuMTY2NjcgMC45NTUyIDUuMTk2NTQgMCA0IDBDMi44MDM0NiAwIDEuODMzMzMgMC45NTUyIDEuODMzMzMgMi4xMzMzM1YzLjJaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMSAzLjQ0NDQ0QzEgMy4xOTg5OCAwLjc3NjE0MiAzIDAuNSAzQzAuMjIzODU4IDMgMCAzLjE5ODk4IDAgMy40NDQ0NEMwIDUuMjU3NjEgMS41MjY4NCA2Ljc1Mzc4IDMuNSA2Ljk3MjQ5VjhINC41VjYuOTcyNDlDNi40NzMxNiA2Ljc1Mzc4IDggNS4yNTc2MSA4IDMuNDQ0NDRDOCAzLjE5ODk4IDcuNzc2MTQgMyA3LjUgM0M3LjIyMzg2IDMgNyAzLjE5ODk4IDcgMy40NDQ0NEM3IDQuOTE3MjEgNS42NTY4NiA2LjExMTExIDQgNi4xMTExMUMyLjM0MzE0IDYuMTExMTEgMSA0LjkxNzIxIDEgMy40NDQ0NFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==","icon-enabled");return k({isAudioEnabled:e,enabledIcon:n,disabledIcon:t,type:"publisher"})}(r)):(u="MP_subscriber_overlay",c="MP_"+n+"_default_controls",s=function(e){var t=L("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgOCA4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNi41IDEuNTAwMUM1LjEgMS41MDAxIDQgMi42MDAxIDQgNC4wMDAwOUM0IDUuNDAwMDkgNS4xIDYuNTAwMDkgNi41IDYuNTAwMDlWNy41MDAwOUM2LjUgNy45MDAwOSA2LjA1IDguMTAwMDkgNS43IDcuOTAwMDlMMi44NSA2LjAwMDA5SDAuNUMwLjIgNi4wMDAwOSAwIDUuODAwMDkgMCA1LjUwMDA5VjIuNTAwMUMwIDIuMjAwMDkgMC4yIDIuMDAwMSAwLjUgMi4wMDAxSDIuODVMNS43IDAuMTAwMDk1QzYuMDUgLTAuMTQ5OTA1IDYuNSAwLjEwMDA5NSA2LjUgMC41MDAwOTVWMS41MDAxWiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTYuNDk5OTggMy4yOTI4OUw3LjIwNzA5IDIuNTg1NzlMNy45MTQyIDMuMjkyODlMNy4yMDcwOSA0TDcuOTE0MiA0LjcwNzExTDcuMjA3MDkgNS40MTQyMUw2LjQ5OTk4IDQuNzA3MTFMNS43OTI4OCA1LjQxNDIxTDUuMDg1NzcgNC43MDcxMUw1Ljc5Mjg4IDRMNS4wODU3NyAzLjI5Mjg5TDUuNzkyODggMi41ODU3OUw2LjQ5OTk4IDMuMjkyODlaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4=","icon-disabled"),n=L("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNiIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgNiA4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNS41IDAuNTAwMDk1QzUuNSAwLjEwMDA5NSA1LjA1IC0wLjE0OTkwNSA0LjcgMC4xMDAwOTVMMS44NSAyLjAwMDFIMC41QzAuMiAyLjAwMDEgMCAyLjIwMDEgMCAyLjUwMDFWNS41MDAwOUMwIDUuODAwMSAwLjIgNi4wMDAwOSAwLjUgNi4wMDAwOUgxLjg1TDQuNyA3LjkwMDA5QzUuMDUgOC4xMDAwOSA1LjUgNy45MDAwOSA1LjUgNy41MDAwOVYwLjUwMDA5NVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==","icon-enabled");return k({isAudioEnabled:e,enabledIcon:n,disabledIcon:t,type:"subscriber"})}(r));var l=E(c);l.classList.add(x.videoOverlay,u),l.appendChild(s.element);var A=document.createElement("div");A.classList.add(x.bottomRightContainer);var d,g,p=function(){var e=document.createElement("div");e.classList.add(T.networkQualityWarning,"network-quality-warning");var t=document.createElement("img");return t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOSIgaGVpZ2h0PSI2IiB2aWV3Qm94PSIwIDAgOSA2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMC43MDk5NjEgMS43ODgxNEMxLjgwMzcxIDAuODYzOTczIDMuMTk1NzYgMC4zNzk4ODMgNC42ODcyMyAwLjM3OTg4M0M2LjE3ODcxIDAuMzc5ODgzIDcuNTcwNzYgMC44NjM5NzMgOC42NjQ1MSAxLjc4ODE0TDcuOTY4NDkgMi40NDgyN0M3LjA3MzYgMS42NTYxMiA1LjkzMDEzIDEuMjYwMDUgNC42ODcyMyAxLjI2MDA1QzMuNDQ0MzQgMS4yNjAwNSAyLjMwMDg3IDEuNjU2MTIgMS40MDU5OCAyLjQwNDI2TDAuNzA5OTYxIDEuNzg4MTRaIiBmaWxsPSIjRTYxRDFEIi8+CjxwYXRoIGQ9Ik02LjQyNzM0IDMuOTAwNTRDNS45Nzk5IDMuNDYwNDYgNS4zMzM1OSAzLjI0MDQyIDQuNjg3MjggMy4yNDA0MkM0LjA0MDk4IDMuMjQwNDIgMy4zOTQ2NyAzLjQ2MDQ2IDIuOTQ3MjMgMy45MDA1NEwyLjI1MTIgMy4yODQ0MkMyLjg5NzUxIDIuNjY4MzEgMy43NDI2OCAyLjM2MDI1IDQuNjg3MjggMi4zNjAyNUM1LjYzMTg5IDIuMzYwMjUgNi40NzcwNiAyLjY2ODMxIDcuMTIzMzYgMy4yODQ0Mkw2LjQyNzM0IDMuOTAwNTRaIiBmaWxsPSIjRTYxRDFEIi8+CjxwYXRoIGQ9Ik00LjY4NzIzIDUuNjYwODdDNS4wOTkwOSA1LjY2MDg3IDUuNDMyOTcgNS4zNjUzMiA1LjQzMjk3IDUuMDAwNzRDNS40MzI5NyA0LjYzNjE3IDUuMDk5MDkgNC4zNDA2MiA0LjY4NzIzIDQuMzQwNjJDNC4yNzUzNyA0LjM0MDYyIDMuOTQxNSA0LjYzNjE3IDMuOTQxNSA1LjAwMDc0QzMuOTQxNSA1LjM2NTMyIDQuMjc1MzcgNS42NjA4NyA0LjY4NzIzIDUuNjYwODdaIiBmaWxsPSIjRTYxRDFEIi8+Cjwvc3ZnPg==",t.classList.add(T.networkQualityIcon,"network-quality-warning-icon"),e.appendChild(t),{element:e,show:function(){return e.classList.add(T.active)},hide:function(){return e.classList.remove(T.active)}}}();if(A.appendChild(p.element),i){var b=(d=i,(g=document.createElement("div")).innerText=d,g.classList.add(z.name,"participant-name"),g);A.appendChild(b)}l.appendChild(A),o.appendChild(l);var m=Object.assign(new t.EventEmitter,{setAudioEnabled:s.setEnabled,setAudioDisabled:s.setDisabled,showNetworkQualityWarning:p.show,hideNetworkQualityWarning:p.hide});return s.element.addEventListener("click",(function(){m.emit("toggleAudioClicked")})),m}D("Target div not found when creating overlay: ",n)},j=function(e){function t(t){var n;(n=e.call(this)||this)._toggleAudioEnabled=function(){n._subscribingToAudio?n.disableAudio():n.enableAudio()},n.getSubscriberElement=function(){var e;return null==(e=n.otSubscriber)?void 0:e.element},n.isVideoEnabled=function(){var e,t;return!(null==(e=n.otSubscriber)||null==(t=e.stream)||!t.hasVideo)},n.isAudioEnabled=function(){var e,t;return!(null==(e=n.otSubscriber)||null==(t=e.stream)||!t.hasAudio)},n._setSubscribeToVideo=function(e){var t;return null==(t=n.otSubscriber)?void 0:t.subscribeToVideo(e)},n.enableVideo=function(){var e;null==(e=n.otSubscriber)||e.subscribeToVideo(!0)},n.disableVideo=function(){var e;return null==(e=n.otSubscriber)?void 0:e.subscribeToVideo(!1)},n.enableAudio=function(){var e,t;null==(e=n.otSubscriber)||e.subscribeToAudio(!0),n._subscribingToAudio=!0,null==(t=n.overlay)||t.setAudioEnabled()},n.disableAudio=function(){var e,t;null==(e=n.otSubscriber)||e.subscribeToAudio(!1),n._subscribingToAudio=!1,null==(t=n.overlay)||t.setAudioDisabled()},n.setDisabledImageURI=function(e){var t;null==(t=n.otSubscriber)||t.setStyle("backgroundImageURI",e)},n.otSubscriber=t,n.id=t.id,n._subscribingToAudio=!0;var i=a.throttle((function(e){n.emit("audioLevelUpdated",e.audioLevel)}),60,{leading:!0,trailing:!1});return n.otSubscriber.on("audioLevelUpdated",i),n.otSubscriber.on("destroyed",(function(){return n.emit("destroyed")})),n.otSubscriber.on("videoElementCreated",(function(){var e,t,i,r,a,o;"screen"!==(null==(e=n.otSubscriber)||null==(t=e.stream)?void 0:t.videoType)&&(n.id?(n.overlay=(o={id:n.id,participantName:null!=(i=null==(r=n.otSubscriber.stream)?void 0:r.name)?i:""},O({targetId:o.id,isAudioEnabled:!0,participantName:o.participantName,type:"subscriber"})),null==(a=n.overlay)||a.on("toggleAudioClicked",(function(){n._toggleAudioEnabled()}))):D("Subscriber id undefined when trying to create overlay")),n.emit("videoElementCreated")})),n.otSubscriber.on("videoDisableWarning",(function(){var e;return null==(e=n.overlay)?void 0:e.showNetworkQualityWarning()})),n.otSubscriber.on("videoDisableWarningLifted",(function(){var e;return null==(e=n.overlay)?void 0:e.hideNetworkQualityWarning()})),n.otSubscriber.on("videoDisabled",(function(e){var t;"quality"===e.reason&&(null==(t=n.overlay)||t.showNetworkQualityWarning())})),n.otSubscriber.on("videoEnabled",(function(e){var t;"quality"===e.reason&&(null==(t=n.overlay)||t.hideNetworkQualityWarning())})),n}return p(t,e),t}(t.EventEmitter),U=function(e){M=e},V=function(){return M},R={source:window.location.origin},Y=function(e){var t=this;void 0===e&&(e=R),this.update=function(e,n,i){e&&n&&i&&t.analytics.addSessionInfo({sessionId:e,connectionId:n,partnerId:i})},this.log=function(e,n,i){var r={action:e,variation:n};i&&(r.payload=i),t.analytics.logEvent(r)};var n=e.source,i=void 0===n?window.location.origin:n,r=e.sessionId,a=e.connectionId,o=e.apiKey,u={clientVersion:"video-express-1.4.2",source:i,componentId:"video-express",name:"video-express",partnerId:o,sessionId:r},c={},l=V();l&&(c.proxyUrl=l),this.analytics=new s(u,c),r&&a&&o&&this.update(r,a,o)},G="data:image/png;base64,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",X=C({subscriberOnLoad:{display:["none","!important"]}}),J=function(e){function t(t,n,i){var r;(r=e.call(this)||this)._stream=t,r.movingAvg=null;var a=new j(n);return r.id=a.id,a.on("audioLevelUpdated",(function(e){r.movingAvg=null===r.movingAvg||r.movingAvg<=e?e:.7*r.movingAvg+.3*e;var t=Math.log(r.movingAvg)/Math.LN10/1.5+1;t=Math.min(Math.max(t,0),1),r.emit("audioLevelUpdated",e,t)})),a.on("destroyed",(function(){r.emit("destroyed")})),a.on("videoElementCreated",(function(){r.emit("created")})),r.setOptimalPreferredResolution=function(){if(a){var e,t,n=a.otSubscriber,i=null==(e=n.element)?void 0:e.offsetWidth,r=null==(t=n.element)?void 0:t.offsetHeight;if(i&&r){var o={width:i*window.devicePixelRatio,height:r*window.devicePixelRatio};n.setPreferredResolution(o)}}},r.getSubscriberElement=function(){return null==a?void 0:a.getSubscriberElement()},r.isVideoEnabled=function(){return null==a?void 0:a.isVideoEnabled()},r.isAudioEnabled=function(){return null==a?void 0:a.isAudioEnabled()},r.enableVideo=function(){i.log("CameraSubscriberEnableVideo","Attempt"),a?(a.enableVideo(),Q("Enabled subscriber video: ",r.id),i.log("CameraSubscriberEnableVideo","Success")):i.log("CameraSubscriberEnableVideo","Failure")},r.disableVideo=function(){i.log("CameraSubscriberDisableVideo","Attempt"),a?(a.disableVideo(),Q("Disabled subscriber video: ",r.id),i.log("CameraSubscriberDisableVideo","Success")):i.log("CameraSubscriberDisableVideo","Failure")},r.enableAudio=function(){i.log("CameraSubscriberEnableAudio","Attempt"),a?(a.enableAudio(),i.log("CameraSubscriberEnableAudio","Success")):i.log("CameraSubscriberEnableAudio","Failure")},r.disableAudio=function(){i.log("CameraSubscriberDisableAudio","Attempt"),a?(a.disableAudio(),i.log("CameraSubscriberDisableAudio","Success")):i.log("CameraSubscriberDisableAudio","Failure")},r.setDisabledImageURI=function(e){a.setDisabledImageURI(e)},r}return p(t,e),t}(t.EventEmitter),F=function(e,t,n,i,r){var a,o=e.subscribe(t,"layoutContainer",{insertMode:"append",subscribeToVideo:n,style:{buttonDisplayMode:"off",nameDisplayMode:"off",videoDisabledDisplayMode:"off",backgroundImageURI:G}},(function(e){if(i.log("CreateCameraSubscriber","Attempt"),e)i.log("CreateCameraSubscriber","Failure",{error:e}),r(e);else{var n=new J(t,o,i);r(void 0,n),i.log("CreateCameraSubscriber","Success")}}));o.element instanceof HTMLElement&&(null==(a=o.element)||a.classList.add(X.subscriberOnLoad))},Z={fixedRatio:!1,alignItems:"center",bigPercentage:.8,bigFixedRatio:!1,bigAlignItems:"center",smallAlignItems:"center",maxWidth:Infinity,maxHeight:Infinity,smallMaxWidth:Infinity,smallMaxHeight:Infinity,bigMaxWidth:Infinity,bigMaxHeight:Infinity,bigMaxRatio:1.5,bigMinRatio:9/16,bigFirst:!0},H={bigClass:"OT_big",window:window,animate:!1,ignoreClass:"OT_ignore"},K=function(e){function t(t,n,o){var u;(u=e.call(this)||this)._screenSharingElementIds=[],u._cameraSubscriberElementIds=[],u._layoutMode="grid",u.isViewingScreenshare=!1,u._initLayoutContainerElement=function(e){var t,n=h(e),i=E("layoutContainer"),r=E("layoutContainerWrapper"),a=C({layoutContainer:(t={margin:8,width:"calc(100% - 16px)",height:"calc(100% - 16px)",position:"relative","& > *":{width:0,height:0,opacity:0},"& > .ot-layout":{opacity:1},"& > .OT_publisher, & > .OT_subscriber":{margin:4,borderRadius:16,"-webkit-backface-visibility":"hidden","-webkit-transform":"translate3d(0, 0, 0)"},"& > .OT_subscriber.MP_screenshare_subscriber":{borderRadius:0}},t["& > .OT_subscriber.active_speaker_highlight"]={borderColor:""+(u._speakerHighlightColor||"#53CA6A"),borderWidth:"3px",borderStyle:"solid"},t),layoutContainerWrapper:{width:"100%",height:"100%",overflow:"auto"}});return i.classList.add(a.layoutContainer),r.classList.add(a.layoutContainerWrapper),r.appendChild(i),n.appendChild(r),i},u._initContainerResizeListener=function(){var e=a.throttle((function(){return u._recalculateTileSizes()}),20);new r((function(){e()})).observe(u._layoutContainerElement)},u.setLayoutMode=function(e){u._layoutMode=e,u.updateLayout()},u._setElementBig=function(e){e.classList.add("OT_big")},u._setElementSmall=function(e){e.classList.remove("OT_big")},u._hideElement=function(e){"none"!==getComputedStyle(e).display&&(e.style.display="none",u._cameraSubscriberElementIds.includes(e.id)&&u.emit("cameraSubscriberHidden",e.id))},u._displayElement=function(e){"block"!==getComputedStyle(e).display&&(e.style.display="block",u._cameraSubscriberElementIds.includes(e.id)&&u.emit("cameraSubscriberDisplayed",e.id))},u._removeSubscriberOnLoad=function(e){e.classList.remove(X.subscriberOnLoad)},u._setAllElementsSmall=function(){u._layoutContainerElement.childNodes.forEach((function(e){e instanceof HTMLElement&&u._setElementSmall(e)}))},u._setOnlyScreenElementsBig=function(){u._layoutContainerElement.childNodes.forEach((function(e){e instanceof HTMLElement&&(u._screenSharingElementIds.includes(e.id)?u._setElementBig(e):u._setElementSmall(e))}))},u._setOnlyActiveSpeakerElementBig=function(){var e=u._getActiveSpeakerViewLargeElement();u._setAllElementsSmall(),e&&u._setElementBig(e)},u._getActiveSpeakerViewLargeElement=function(){if(u._activeSpeakerElement)return u._activeSpeakerElement;var e=u._layoutContainerElement.querySelector(".OT_subscriber");if(e)return e;var t=u._layoutContainerElement.querySelector(".OT_publisher");if(t)return t;S("No publisher or subscriber elements found when setting active speaker layout")},u._displayOnlyScreenElement=function(){u._layoutContainerElement.childNodes.forEach((function(e){e instanceof HTMLElement&&(u._screenSharingElementIds.includes(e.id)?u._setElementBig(e):u._hideElement(e))}))},u._displayOnlyActiveSpeaker=function(){var e=u._getActiveSpeakerViewLargeElement();u._layoutContainerElement.childNodes.forEach((function(t){t instanceof HTMLElement&&(t!==e?u._hideElement(t):u._displayElement(t))}))},u._displayLimitedGridElements=function(){u._layoutContainerElement.childNodes.forEach((function(e){var t;e instanceof HTMLElement&&(null!=(t=u._hiddenTileTracker)&&t.hiddenElements.includes(e)?u._hideElement(e):u._displayElement(e))}))},u._isSubscribingToScreen=function(){return u._screenSharingElementIds.length>0},u.onScreenSubscriberCreated=function(e){e&&(u._screenSharingElementIds.push(e),u.isViewingScreenshare=!0),u.updateLayout()},u.onScreenSubscriberDestroyed=function(e){e&&B(u._screenSharingElementIds,e),0===u._screenSharingElementIds.length&&(u.isViewingScreenshare=!1),u.updateLayout()},u.onCameraSubscriberCreated=function(e){var t;e&&(null==(t=u._hiddenTileTracker)||t.onSubscriberCreated(e),u._cameraSubscriberElementIds.push(e.id),u.emit("cameraSubscriberDisplayed",e.id)),u.updateLayout()},u.onCameraSubscriberDestroyed=function(e){var t;e&&(null==(t=u._hiddenTileTracker)||t.onSubscriberRemoved(e),B(u._cameraSubscriberElementIds,e.id)),u.updateLayout()};var c=n.layoutMode,s=void 0===c?"grid":c,l=b(n,["layoutMode"]);u._layoutMode=s,u._isMobileLayout=n.isMobileLayout,u._speakerHighlightColor=n.speakerHighlightColor,u._speakerHighlightEnabled=n.speakerHighlightEnabled,u._speakerHighlightColor&&!u._speakerHighlightEnabled&&D("You passed speakerHighlightColor value without setting speakerHighlightEnabled");var A=u._isMobileLayout?1.5:9/16;return Z.maxRatio=u._isMobileLayout?16/9:.875,Z.minRatio=A,u._layoutContainerElement=u._initLayoutContainerElement(t),u._emitLayoutRecalculated=a.debounce((function(){u.emit("layoutComplete")}),20),u._layoutContainer=i(u._layoutContainerElement,g({},Z,l,H)),u._initContainerResizeListener(),u._hiddenTileTracker=new P(u._isMobileLayout?3:o||25),u}p(t,e);var n=t.prototype;return n.onActiveSpeakerChanged=function(e){var t,n=e.newActiveSpeakerElement,i=e.previousActiveSpeakerElement;this._activeSpeakerElement=n,this._speakerHighlightEnabled&&(i&&i.classList.remove("active_speaker_highlight"),n&&n.classList.add("active_speaker_highlight")),null==(t=this._hiddenTileTracker)||t.onActiveSpeakerChanged(n),this.updateLayout()},n.onActiveSpeakerStatusChanged=function(e){var t;this._speakerHighlightEnabled&&(null==(t=this._activeSpeakerElement)||t.classList[e.isSpeaking?"add":"remove"]("active_speaker_highlight"))},n._recalculateTileSizes=function(){this._layoutContainer.layout(),this._emitLayoutRecalculated()},n.getLayoutContainerElement=function(){return this._layoutContainerElement},n.updateLayout=function(){this._isMobileLayout?this.isViewingScreenshare?this._displayOnlyScreenElement():"active-speaker"===this._layoutMode?this._displayOnlyActiveSpeaker():this._displayLimitedGridElements():(this.isViewingScreenshare?this._setOnlyScreenElementsBig():"active-speaker"===this._layoutMode?this._setOnlyActiveSpeakerElementBig():this._setAllElementsSmall(),this._displayLimitedGridElements()),this._recalculateTileSizes()},t}(t.EventEmitter),W=new Y,_=function(){return new Promise((function(e,t){W.log("GetDevices","Attempt"),n.getDevices((function(n,i){n&&(W.log("GetDevices","Failure",{error:n}),t(n)),W.log("GetDevices","Success"),e(i)}))}))},q=function(e){return e.getSettings?e.getSettings().deviceId:""},$=function(){var e=d(f.mark((function e(t){var n,i,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,e.prev=1,e.next=4,_();case 4:(n=e.sent)&&n.length&&(r=n.find((function(e){return e.label===t.label})))&&(i=r.deviceId),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t1=q(t),e.t1){e.next=5;break}return e.next=4,$(t);case 4:e.t1=e.sent;case 5:if(e.t0=e.t1,e.t0){e.next=8;break}e.t0="";case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e,t){var n=a.throttle((function(t){e.emit("audioLevelUpdated",t.audioLevel)}),60,{leading:!0,trailing:!1});t.on("destroyed",(function(){return e.onDestroyed()})),t.on("videoElementCreated",e._onVideoElementCreated),"camera"===e.source&&(t.on("audioLevelUpdated",n),t.on("accessAllowed",(function(){e.emit("accessAllowed")})),t.on("accessDenied",(function(){e.emit("accessDenied")})),t.on("accessDialogOpened",(function(){e.emit("accessDialogOpened")})),t.on("accessDialogClosed",(function(t){e.emit("accessDialogClosed",t)})))},ne=function(e,t,i){return new Promise((function(r,a){var o,u=n.initPublisher(e,g({},t,{insertMode:"append",style:{buttonDisplayMode:"off",nameDisplayMode:"off",backgroundImageURI:(null==t||null==(o=t.style)?void 0:o.backgroundImageURI)||G}}),(function(e){e?a(e):r(u)}));u&&(i.otPublisher=u,te(i,u))}))},ie=function(e,t,i){return new Promise((function(r,a){n.checkScreenSharingCapability((function(o){if(o.supported&&!1!==o.extensionRegistered){var u=n.initPublisher(e,g({videoSource:"screen",insertMode:"append",showControls:!1,videoContentHint:"detail"},t),(function(e){e?a(e):r(u)}));te(i,u)}else a("Screen sharing not supported for this browser")}))}))},re=function(e){function t(t,n){var i;return void 0===t&&(t="camera"),(i=e.call(this)||this).initOTPublisher=function(){var e=d(f.mark((function e(t,n){var r,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i._otPublisherPromise){e.next=15;break}return r=ne,"screen"===i.source&&(r=ie),i._otPublisherPromise=r(t,n,m(i)),e.prev=4,e.next=7,i._otPublisherPromise;case 7:a=e.sent,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(4),i._otPublisherPromise=void 0,e.t0;case 14:i.otPublisher=a;case 15:return e.next=17,i._otPublisherPromise;case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}(),i.getOTPublisher=function(){return i._otPublisherPromise},i.onDestroyed=function(){Q("Publisher destroyed"),i._otPublisherPromise=void 0,i.emit("destroyed")},i._onVideoElementCreated=function(){if("camera"===i.source){var e,t,n=null==(e=i.otPublisher)?void 0:e.id;n?(i.overlay=(r={id:n,isAudioEnabled:i.isAudioEnabled(),participantName:i.name},O({targetId:r.id,isAudioEnabled:r.isAudioEnabled,participantName:r.participantName,type:"publisher"})),null==(t=i.overlay)||t.on("toggleAudioClicked",(function(){i._toggleAudioEnabled()}))):D("Could not find stream id when trying to create camera publisher overlay")}var r;i.emit("videoElementCreated")},i._toggleAudioEnabled=function(){i.isAudioEnabled()?i.disableAudio():i.enableAudio()},i.isVideoEnabled=function(){var e,t;return!(null==(e=i.otPublisher)||null==(t=e.getVideoSource())||!t.track)},i.isAudioEnabled=function(){var e,t;return!(null==(e=i.otPublisher)||null==(t=e.getAudioSource())||!t.enabled)},i.enableVideo=function(){var e;return null==(e=i.otPublisher)?void 0:e.publishVideo(!0)},i.disableVideo=function(){var e;return null==(e=i.otPublisher)?void 0:e.publishVideo(!1)},i.enableAudio=function(){var e,t;null==(e=i.otPublisher)||e.publishAudio(!0),null==(t=i.overlay)||t.setAudioEnabled()},i.disableAudio=function(){var e,t;null==(e=i.otPublisher)||e.publishAudio(!1),null==(t=i.overlay)||t.setAudioDisabled()},i.getVideoDevice=function(){var e={deviceId:"",label:"",kind:"videoInput"};if(i.otPublisher){var t=i.otPublisher.getVideoSource(),n=t.track;e.deviceId=t.deviceId||"",e.label=(null==n?void 0:n.label)||""}return e},i.setVideoDevice=function(){var e=d(f.mark((function e(t){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=i.otPublisher)?void 0:n.setVideoSource(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.getAudioDevice=d(f.mark((function e(){var t,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=null==(t=i.otPublisher)?void 0:t.getAudioSource())){e.next=7;break}return e.next=4,ee(n);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="";case 8:return e.abrupt("return",{deviceId:e.t0,label:(null==n?void 0:n.label)||"",kind:"audioInput"});case 10:case"end":return e.stop()}}),e)}))),i.setAudioDevice=function(){var e=d(f.mark((function e(t){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=i.otPublisher)?void 0:n.setAudioSource(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.destroyOTPublisher=function(){var e;return null==(e=i.otPublisher)?void 0:e.destroy()},i.setVideoFilter=function(){var e=d(f.mark((function e(t){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(n=i.otPublisher)?void 0:n.applyVideoFilter(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.clearVideoFilter=d(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=i.otPublisher)?void 0:t.clearVideoFilter();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),i.setDisabledImageURI=function(e){var t;null==(t=i.otPublisher)||t.setStyle("backgroundImageURI",e)},i.source=t,i.name=n,i}return p(t,e),t}(t.EventEmitter),ae=function(e){function t(t,n,i,r){var a;(a=e.call(this)||this)._defaultTargetElement=n;var o=new re("camera",r);return a.isVideoEnabled=function(){return o.isVideoEnabled()},a.isAudioEnabled=function(){return o.isAudioEnabled()},a.enableVideo=function(){i.log("CameraPublisherEnableVideo","Attempt"),o.enableVideo(),i.log("CameraPublisherEnableVideo","Success")},a.disableVideo=function(){i.log("CameraPublisherDisableVideo","Attempt"),o.disableVideo(),i.log("CameraPublisherDisableVideo","Success")},a.enableAudio=function(){i.log("CameraPublisherEnableAudio","Attempt"),o.enableAudio(),i.log("CameraPublisherEnableAudio","Success")},a.disableAudio=function(){i.log("CameraPublisherDisableAudio","Attempt"),o.disableAudio(),i.log("CameraPublisherDisableAudio","Success")},a.getVideoDevice=function(){i.log("GetVideoDevice","Attempt");var e=o.getVideoDevice();return i.log("GetVideoDevice","Success"),e},a.setVideoDevice=function(){var e=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.log("SetVideoDevice","Attempt"),e.prev=1,e.next=4,o.setVideoDevice(t);case 4:i.log("SetVideoDevice","Success"),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),i.log("SetVideoDevice","Failure",{error:e.t0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.getAudioDevice=d(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.log("GetAudioDevice","Attempt"),e.next=3,o.getAudioDevice();case 3:return t=e.sent,i.log("GetAudioDevice","Success"),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),a.setAudioDevice=function(){var e=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.log("SetAudioDevice","Attempt"),e.prev=1,e.next=4,o.setAudioDevice(t);case 4:i.log("SetAudioDevice","Success"),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),i.log("SetAudioDevice","Failure",{error:e.t0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.destroyCameraPublisher=function(){try{i.log("DestroyCameraPublisher","Attempt"),o.destroyOTPublisher(),i.log("DestroyCameraPublisher","Success")}catch(e){i.log("DestroyCameraPublisher","Failure")}},a.initPublisher=function(){var e=d(f.mark((function e(t){var n,i,r,u;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),r=(n=t).publisherProperties,u=null!=(i=n.targetElement)?i:a._defaultTargetElement,o.on("audioLevelUpdated",(function(e){a.emit("audioLevelUpdated",e)})),o.on("videoElementCreated",(function(){return a.emit("created")})),o.on("destroyed",(function(){return a.emit("destroyed")})),o.on("accessAllowed",(function(){a.emit("accessAllowed")})),o.on("accessDenied",(function(){a.emit("accessDenied")})),o.on("accessDialogOpened",(function(){a.emit("accessDialogOpened")})),o.on("accessDialogClosed",(function(e){a.emit("accessDialogClosed",e)})),e.next=6,o.initOTPublisher(u,r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.publish=function(){var e=d(f.mark((function e(n){var r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),i.log("PublishCameraPublisher","Attempt",{publisherOptions:n}),e.next=4,o.getOTPublisher();case 4:if(r=e.sent){e.next=7;break}throw new Error("OT Publisher not initialized");case 7:return e.abrupt("return",new Promise((function(e,n){t.publish(r,(function(t){t?(S("Failed to publisher",t),i.log("PublishCameraPublisher","Failure",{error:t}),n(t)):(w("Published camera to session"),i.log("PublishCameraPublisher","Success"),e())}))})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setVideoFilter=function(){var e=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.log("SetVideoFilter","Attempt"),e.next=4,o.setVideoFilter(t);case 4:i.log("SetVideoFilter","Success"),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),i.log("SetVideoFilter","Failure",{error:e.t0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.clearVideoFilter=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.log("ClearVideoFilter","Attempt"),e.prev=1,e.next=4,o.clearVideoFilter();case 4:i.log("ClearVideoFilter","Success"),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),i.log("ClearVideoFilter","Failure",{error:e.t0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),a.setDisabledImageURI=function(e){o.setDisabledImageURI(e)},a}return p(t,e),t}(t.EventEmitter),oe=function(e){function t(t,n,i){var r;(r=e.call(this)||this).isScreenSharing=!1,r._defaultTargetElement=n;var a=new re("screen"),o=function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.on("audioLevelUpdated",(function(e){r.emit("audioLevelUpdated",e)})),a.on("videoElementCreated",(function(){return r.emit("started")})),a.on("destroyed",(function(){return r.emit("stopped")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.start=function(){var e=d(f.mark((function e(n){var i,u,c;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||(a=new re("screen")),u=null!=n?n:r._defaultTargetElement,o(),e.next=5,a.initOTPublisher(u,{showControls:!0,style:{buttonDisplayMode:"off"}});case 5:return null==(c=e.sent)||null==(i=c.element)||i.classList.add("OT_screenshare"),r.isScreenSharing=!0,e.abrupt("return",new Promise((function(e,n){t.publish(c,(function(t){t?n(t):e()}))})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.stop=function(){var e;null==(e=a)||e.destroyOTPublisher(),a=void 0,r.isScreenSharing=!1},r.isVideoEnabled=function(){var e;return r.isScreenSharing&&(null==(e=a)?void 0:e.isVideoEnabled())},r.isAudioEnabled=function(){var e;return r.isScreenSharing&&(null==(e=a)?void 0:e.isAudioEnabled())},r.enableVideo=function(){var e;i.log("ScreenPublisherEnableVideo","Attempt"),r.isScreenSharing?(null==(e=a)||e.enableVideo(),i.log("ScreenPublisherEnableVideo","Success")):i.log("ScreenPublisherEnableVideo","Failure",{error:"Client is not screen sharing"})},r.disableVideo=function(){var e;i.log("ScreenPublisherDisableVideo","Attempt"),r.isScreenSharing?(null==(e=a)||e.disableVideo(),i.log("ScreenPublisherDisableVideo","Success")):i.log("ScreenPublisherDisableVideo","Failure",{error:"Client is not screen sharing"})},r.enableAudio=function(){var e;i.log("ScreenPublisherEnableAudio","Attempt"),r.isScreenSharing?(null==(e=a)||e.enableAudio(),i.log("ScreenPublisherEnableAudio","Success")):i.log("ScreenPublisherEnableAudio","Failure",{error:"Client is not screen sharing"})},r.disableAudio=function(){var e;i.log("ScreenPublisherDisableAudio","Attempt"),r.isScreenSharing?(null==(e=a)||e.disableAudio(),i.log("ScreenPublisherDisableAudio","Success")):i.log("ScreenPublisherDisableAudio","Failure",{error:"Client is not screen sharing"})},r.setDisabledImageURI=function(e){a.setDisabledImageURI(e)},r}return p(t,e),t}(t.EventEmitter),ue=function(e){function t(t,n,i){var r,a;(a=e.call(this)||this)._stream=t;var o=new j(n);return null==(r=n.element)||r.classList.add("MP_screenshare_subscriber"),o.on("audioLevelUpdated",(function(e){a.emit("audioLevelUpdated",e)})),o.on("destroyed",(function(){return a.emit("destroyed")})),o.on("videoElementCreated",(function(){a.emit("created")})),a.id=o.id,a.getSubscriberElement=function(){return null==o?void 0:o.getSubscriberElement()},a.isVideoEnabled=function(){return null==o?void 0:o.isVideoEnabled()},a.isAudioEnabled=function(){return null==o?void 0:o.isAudioEnabled()},a.enableVideo=function(){i.log("ScreenSubscriberEnableVideo","Attempt"),o?(o.enableVideo(),i.log("ScreenSubscriberEnableVideo","Success")):i.log("ScreenSubscriberEnableVideo","Failure")},a.disableVideo=function(){i.log("ScreenSubscriberDisableVideo","Attempt"),o?(o.disableVideo(),i.log("ScreenSubscriberDisableVideo","Success")):i.log("ScreenSubscriberDisableVideo","Failure")},a.enableAudio=function(){i.log("ScreenSubscriberEnableAudio","Attempt"),o?(o.enableAudio(),i.log("ScreenSubscriberEnableAudio","Success")):i.log("ScreenSubscriberEnableAudio","Failure")},a.disableAudio=function(){i.log("ScreenSubscriberDisableAudio","Attempt"),o?(o.disableAudio(),i.log("ScreenSubscriberDisableAudio","Success")):i.log("ScreenSubscriberDisableAudio","Failure")},a.setDisabledImageURI=function(e){o.setDisabledImageURI(e)},a}return p(t,e),t}(t.EventEmitter),ce=function(e,t,n,i){n.log("CreateScreenSubscriber","Attempt");var r=e.subscribe(t,"layoutContainer",{insertMode:"append",style:{buttonDisplayMode:"off",nameDisplayMode:"off",videoDisabledDisplayMode:"off"}},(function(e){if(e)n.log("CreateScreenSubscriber","Failure"),i(e);else{var a=new ue(t,r,n);n.log("CreateScreenSubscriber","Success"),i(void 0,a)}}))},se=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).activity={},t}p(t,e);var n=t.prototype;return n.onAudioLevelUpdated=function(e){var t=Date.now();e>0?0===Object.keys(this.activity).length?this.activity={timestamp:t,talking:!1}:this.activity.talking?this.activity.timestamp=t:t-this.activity.timestamp>100&&(this.activity.talking=!0,this.emit("activeSpeakerStatusChanged",{isSpeaking:!0})):0!==Object.keys(this.activity).length&&t-this.activity.timestamp>100&&this.activity.talking&&(this.emit("activeSpeakerStatusChanged",{isSpeaking:!1}),this.reset())},n.reset=function(){this.activity={}},t}(t.EventEmitter),le=function(e){function t(){var t;return(t=e.call(this)||this)._subscriberAudioLevelsBySubscriberId={},t._participantsBySubscriberId={},t.onCameraSubscriberDestroyed=function(e){delete t._subscriberAudioLevelsBySubscriberId[e],delete t._participantsBySubscriberId[e],t.activeSpeaker.subscriberId===e&&(t.activeSpeaker={subscriberId:void 0,movingAvg:0,participant:void 0}),t.calculateActiveSpeaker()},t.onSubscriberAudioLevelUpdated=function(e){var n=e.subscriberId,i=e.participant,r=e.audioLevel;t._subscriberAudioLevelsBySubscriberId[n]=e.movingAvg,t._participantsBySubscriberId[n]=i,t.calculateActiveSpeaker(),n===t.activeSpeaker.subscriberId&&t.speakerDetection.onAudioLevelUpdated(r)},t._calculateActiveSpeaker=function(){var e=Object.entries(t._subscriberAudioLevelsBySubscriberId).reduce((function(e,n){var i=n[0],r=n[1];return r>e.movingAvg?{subscriberId:i,movingAvg:r,participant:t._participantsBySubscriberId[i]}:e}),{subscriberId:void 0,movingAvg:0,participant:void 0});if(e.subscriberId!==t.activeSpeaker.subscriberId&&e.movingAvg>.2){var n=g({},t.activeSpeaker);t.activeSpeaker=e,t.emit("activeSpeakerChanged",{newActiveSpeaker:e,previousActiveSpeaker:n}),t.speakerDetection.reset()}},t.activeSpeaker={movingAvg:0,subscriberId:void 0,participant:void 0},t.speakerDetection=new se,t.speakerDetection.on("activeSpeakerStatusChanged",(function(e){t.emit("activeSpeakerStatusChanged",e)})),t.calculateActiveSpeaker=a.throttle(t._calculateActiveSpeaker,1500,{leading:!0,trailing:!1}),t}return p(t,e),t}(t.EventEmitter),Ae=function(e){function t(t){var n;(n=e.call(this)||this).name=null,n.isParticipantJoinedSent=!1,n.isMe=!1,n.connection=t;var i=t.data;return n.id=t.connectionId,n.connectionData=i,n}p(t,e);var n=t.prototype;return n.setCameraSubscriber=function(e){var t=this;this.camera=e,e.on("created",(function(){t.emit("cameraCreated",e)})),e.on("destroyed",(function(){t.emit("cameraDestroyed")}))},n.setScreenSubscriber=function(e){var t=this;this.screen=e,e.on("created",(function(){t.emit("screenCreated")})),e.on("destroyed",(function(){t.emit("screenDestroyed")}))},t}(t.EventEmitter),de=function(e){function t(t){var n;return(n=e.call(this)||this).isMe=!1,n.id=t.id,n.connectionData=t.connectionData,Object.defineProperty(m(n),"camera",{get:function(){return t.camera}}),Object.defineProperty(m(n),"screen",{get:function(){return t.screen}}),Object.defineProperty(m(n),"name",{get:function(){return t.name}}),t.on("cameraCreated",(function(e){n.emit("cameraCreated",e)})),t.on("cameraDestroyed",(function(){n.emit("cameraDestroyed")})),t.on("screenCreated",(function(e){n.emit("screenCreated",e)})),t.on("screenDestroyed",(function(){n.emit("screenDestroyed")})),n}return p(t,e),t}(t.EventEmitter),ge=function(e){return Object.entries(e).reduce((function(e,t){var n=t[1];return void 0!==n&&(e[t[0]]=n),e}),{})},pe=function(e){Object.keys(e).forEach((function(t){delete e[t]}))},be=new l(navigator.userAgent).getDevice(),me=function(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.catch((function(){})),{promise:n,resolver:e,rejector:t}},ve=function(e){function t(t,n){var i;return(i=e.call(this)||this).isMe=!0,i.id=t.connectionId,i.name=n,i.connectionData=t.data,i}return p(t,e),t}(t.EventEmitter),fe=function(e){function t(t){var n;return(n=e.call(this)||this).isMe=!0,n.id=t.id,n.connectionData=t.connectionData,n.name=t.name,n}return p(t,e),t}(t.EventEmitter),he=function(e){function t(t){var i;(i=e.call(this)||this).participants={},i.participantWrappers={},i._cameraSubscribers={},i._screenSubscribers={},i._visibleParticipantsCount=0,i._attachOTSessionEventListeners=function(){i._session.on("sessionConnected",(function(){Q("Connected to session"),i.emit("connected")})),i._session.on("sessionDisconnected",(function(e){var t=e.reason;Q("SessionDisconnect, reason: "+t),i.camera&&i.camera.destroyCameraPublisher(),i.screen&&i.screen.stop(),i.emit("disconnected",t)})),i._session.on("sessionReconnecting",(function(){Q("Session Reconnecting"),i.emit("reconnecting")})),i._session.on("sessionReconnected",(function(){Q("Session Reconnected"),i.emit("reconnected")})),i._session.on("streamCreated",function(){var e=d(f.mark((function e(t){var n,r,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i._waitUntilJoined.promise;case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return");case 8:(a=i.participants[r=(n=t.stream).connection.connectionId])&&!a.isMe?(Q("Stream created for participant: "+r),i._onParticipantStreamCreated(i._session,n,a,i._shouldEnableParticipantVideo())):w("No participant found for new stream with connection id "+r);case 12:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),i._session.on("streamDestroyed",(function(e){var t=e.stream.connection.connectionId;i.participants[t]&&(Q("Stream destroyed for participant: "+t),i._onParticipantStreamDestroyed()),!i.useMobileLayout&&i._shouldEnableParticipantVideo()&&(w("Subscribing to all participants video"),Object.values(i.participants).forEach((function(e){var t;e.isMe||null==(t=e.camera)||t.enableVideo()})))})),i._session.on("connectionCreated",function(){var e=d(f.mark((function e(t){var n,r,a,o;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i._createParticipant(n=t.connection),a=r.participant,o=r.participantWrapper,i._isMe(n)){e.next=12;break}return e.prev=3,e.next=6,i._sendParticipantName(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),D("Attempted to send the participant name to a participant that is already disconnected.");case 11:setTimeout((function(){i.participants[a.id]&&null===i.participants[a.id].name&&(w("Timeout waiting for participant name, using empty name."),i._onParticipantNameReceived(o,""))}),300);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),i._session.on("connectionDestroyed",(function(e){var t=e.reason,n=e.connection.connectionId,r=i.participants[n];if(r&&!r.isMe){var a=r.isParticipantJoinedSent,o=i.participantWrappers[n];delete i.participantWrappers[n],delete i.participants[n],a&&(w("Participant left: "+o),i.emit("participantLeft",o,t))}})),i._session.on("signal",i._onSignalReceived)},i._createParticipant=function(e){var t,n;if(i._isMe(e)){var r=i._createLocalParticipant(e,i.participantName);t=r.participant,n=r.participantWrapper}else{var a=i._createRemoteParticipant(e);t=a.participant,n=a.participantWrapper}return i.participants[t.id]=t,i.participantWrappers[t.id]=n,{participant:t,participantWrapper:n}},i._createLocalParticipant=function(e,t){var n=new ve(e,t);return{participant:n,participantWrapper:new fe(n)}},i._createRemoteParticipant=function(e){var t=new Ae(e);return{participant:t,participantWrapper:new de(t)}},i._removeOTSessionEventListeners=function(){i._session.off()},i._createDefaultRoomContainer=function(){var e=E("roomContainer",{width:"100vw",height:"100vh",position:"relative"});return document.body.appendChild(e),e},i._getDefaultPublisherElement=function(e){void 0===e&&(e="camera");var t=m(i).managedLayoutOptions;t=void 0===t?{}:t;var n="camera"===e?t.cameraPublisherContainer:t.screenPublisherContainer;return n?h(n):i._layoutManager.getLayoutContainerElement()},i._connect=function(){return new Promise((function(e,t){i._session.connect(i.token,(function(n){n?t(n):(i._analytics.update(i._session.sessionId,i._session.connection.connectionId,i.apiKey),w("Session connected"),e())}))}))},i._isMe=function(e){var t,n;return!!e&&(null==(t=i._session)||null==(n=t.connection)?void 0:n.connectionId)===e.connectionId},i._setOptimalSubscriberResolutions=function(){Object.values(i._cameraSubscribers).forEach((function(e){e.setOptimalPreferredResolution()}))},i._getCameraSubscriberElement=function(e){if(e)return i._cameraSubscribers[e].getSubscriberElement()},i._onParticipantNameReceived=function(e,t){var n=e.id;if(i.participants[n]){i.participants[n].name=t;var r=i.participants[n];r.isMe||r.isParticipantJoinedSent||(r.isParticipantJoinedSent=!0,i.emit("participantJoined",e))}},i._onSignalReceived=function(e){var t=e.from?i.participantWrappers[e.from.connectionId]:null;if(!t||"signal:MP_INTERNAL_PARTICIPANT_NAME"!==e.type||i._isMe(e.from)){var n={type:e.type,data:e.data,from:t,isSentByMe:i._isMe(e.from)};i.emit("signal",n)}else{var r;i._onParticipantNameReceived(t,null!=(r=e.data)?r:"")}},i._onCameraSubscriberCreated=function(e,t){i._cameraSubscribers[t.id]=t;var n=t.getSubscriberElement();t.on("created",(function(){i._layoutManager.onCameraSubscriberCreated(n)})),t.on("destroyed",(function(){var e;i._activeSpeakerTracker.onCameraSubscriberDestroyed(t.id),null==(e=i._layoutManager)||e.onCameraSubscriberDestroyed(n),delete i._cameraSubscribers[t.id]}))},i._onScreenSubscriberCreated=function(e,t){i._screenSubscribers[t.id]=t,t.on("created",(function(){i._layoutManager.onScreenSubscriberCreated(t.id)})),t.on("destroyed",(function(){var e=t.id;i._layoutManager.onScreenSubscriberDestroyed(e),delete i._screenSubscribers[e]}))},i._onActiveSpeakerStatusChanged=function(e){i._layoutManager.onActiveSpeakerStatusChanged(e)},i._onActiveSpeakerChanged=function(e){var t=e.newActiveSpeaker,n=e.previousActiveSpeaker,r=i._getCameraSubscriberElement(t.subscriberId),a=i._getCameraSubscriberElement(n.subscriberId);i._layoutManager.onActiveSpeakerChanged({newActiveSpeakerElement:r,previousActiveSpeakerElement:a}),i.emit("activeSpeakerChanged",t.participant)},i._sendParticipantName=function(e){return new Promise((function(t,n){i._session.signal(ge({to:e,type:"MP_INTERNAL_PARTICIPANT_NAME",data:i.participantName}),(function(e){e&&n(e),t()}))}))},i._shouldEnableParticipantVideo=function(){return void 0===i.maxVideoParticipantsOnScreen||i._visibleParticipantsCount<i.maxVideoParticipantsOnScreen},i._shouldDisablePublisherMedia=function(){return!!i.mediaShutoffThreshold&&Object.keys(i.participants).length>i.mediaShutoffThreshold},i._onParticipantStreamDestroyed=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i._visibleParticipantsCount=i._visibleParticipantsCount>0?i._visibleParticipantsCount-1:0;case 1:case"end":return e.stop()}}),e)}))),i._onParticipantStreamCreated=function(){var e=d(f.mark((function e(t,n,r,a){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"screen"===n.videoType?ce(t,n,i._analytics,(function(e,t){!e&&t&&(r.setScreenSubscriber(t),i._onScreenSubscriberCreated(n,t))})):(F(t,n,a,i._analytics,(function(e,t){!e&&t&&(r.setCameraSubscriber(t),i._onCameraSubscriberCreated(n,t),t.on("audioLevelUpdated",(function(e,n){i._activeSpeakerTracker.onSubscriberAudioLevelUpdated({subscriberId:t.id,movingAvg:n,participant:r,audioLevel:e})})))})),a||i.emit("cameraSubscriberVideoDisabled",r.id),i._visibleParticipantsCount=i._visibleParticipantsCount+1);case 2:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),i._onCameraSubscriberHiddenByLayoutManager=function(e){var t=i._cameraSubscribers[e];t&&(Q("Camera subscriber to be hidden in layout, unsubscribing to video: ",t.id),t.disableVideo())},i._onCameraSubscriberDisplayedByLayoutManager=function(e){var t=i._cameraSubscribers[e];if(t){Q("Camera subscriber to be displayed in layout, subscribing to video: ",t.id),t.enableVideo();var n=i._getCameraSubscriberElement(e);n&&i._layoutManager._removeSubscriberOnLoad(n)}},i.join=function(){var e=d(f.mark((function e(t){var n,r,a,o,u,c,s;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),r=(n=t).targetElement,(o=void 0===(a=n.publisherProperties)?{}:a).name=i.participantName,w("Joining room"),i._analytics.log("JoinRoom","Attempt",{publisherOptions:t}),i._attachOTSessionEventListeners(),u=!1,c=!1,s=function(){i._waitUntilJoined.rejector(),i._cleanupOnDisconnect(),u&&i.camera.destroyCameraPublisher(),c&&i._session.disconnect()},e.prev=9,i.camera.on("destroyed",i._onCameraPublisherDestroyed),e.next=13,i.camera.initPublisher({targetElement:r,publisherProperties:o});case 13:u=!0,e.next=22;break;case 16:throw e.prev=16,e.t0=e.catch(9),S("Failed to join room: could not initialize camera publish.",e.t0),i._analytics.log("JoinRoom","Failure",{error:e.t0}),s(),e.t0;case 22:return e.prev=22,e.next=25,i._connect();case 25:c=!0,e.next=34;break;case 28:throw e.prev=28,e.t1=e.catch(22),S("Failed to join room: could not connect to session.",e.t1),i._analytics.log("JoinRoom","Failure",{error:e.t1}),s(),e.t1;case 34:return i._shouldDisablePublisherMedia()&&(i.camera.disableAudio(),i.camera.disableVideo(),w("mediaShutoffThreshold reached. Turning off publisher audio and video."),i.emit("cameraPublisherMediaDisabled")),e.prev=35,e.next=38,i.camera.publish();case 38:Q("Published camera"),e.next=47;break;case 41:throw e.prev=41,e.t2=e.catch(35),S("Failed to join room: failed to publish to session",e.t2),i._analytics.log("JoinRoom","Failure",{error:e.t2}),s(),e.t2;case 47:i._analytics.log("JoinRoom","Success"),i._waitUntilJoined.resolver(),i._layoutManager.updateLayout();case 50:case"end":return e.stop()}}),e,null,[[9,16],[22,28],[35,41]])})));return function(t){return e.apply(this,arguments)}}(),i._cleanupOnDisconnect=function(){i._removeOTSessionEventListeners(),i.camera.off("destroyed",i._onCameraPublisherDestroyed),i._waitUntilJoined=me(),pe(i.participants),pe(i.participantWrappers)},i.leave=function(){return w("Leaving room"),i._analytics.log("LeaveRoom","Attempt"),i._cleanupOnDisconnect(),new Promise((function(e,t){try{i._session.on("sessionDisconnected",(function(){i._analytics.log("LeaveRoom","Success"),w("Left room"),e()})),i._session.disconnect()}catch(e){i._analytics.log("LeaveRoom","Failure",{error:e}),D("Error leaving room",e),t(e)}}))},i._onCameraPublisherDestroyed=function(){S("Disconnecting room because Camera Publisher was destroyed"),i._cleanupOnDisconnect(),i._session.disconnect(),i.emit("disconnected","cameraPublisherError")},i.setLayoutMode=function(e){if(!i._layoutManager)throw S("Attempted to set layout mode, but are not using layout manager."),new Error("Cannot set layout mode when not using layout manager");i._layoutManager.setLayoutMode(e)},i.startScreensharing=function(e){return i._analytics.log("StartScreenSharing","Attempt"),i.screen.start(e).then((function(){w("Started screen sharing."),i._layoutManager.updateLayout(),i._analytics.log("StartScreenSharing","Success")})).catch((function(e){throw S("Screen sharing failed."),i._analytics.log("StartScreenSharing","Failure",{error:e}),e}))},i.stopScreensharing=function(){i._analytics.log("StopScreenSharing","Attempt"),i.screen.stop(),w("Stopped screen sharing."),i._layoutManager.updateLayout(),i._analytics.log("StopScreenSharing","Success")},Q("Initializing room with properties",t);var r=t.apiKey,a=t.sessionId,o=t.token,u=t.roomContainer,c=t.mediaShutoffThreshold,s=t.maxVideoParticipantsOnScreen,l=t.managedLayoutOptions,A=void 0===l?{}:l,p=t.participantName,v=void 0===p?"":p,M=t.iceConfig;if(i._analytics=new Y({sessionId:a,apiKey:r}),i._analytics.log("InitRoom","Attempt",{roomProperties:t}),!r||!a||!o){var C="Invalid credentials. Check the API_KEY, TOKEN, SESSION_ID passed";throw i._analytics.log("InitRoom","Failure",{error:C}),S(C),new Error(C)}i.apiKey=r,i.roomId=a,i.token=o,i.iceConfig=M,i.roomContainer=u||i._createDefaultRoomContainer(),i.mediaShutoffThreshold=c,i._waitUntilJoined=me(),void 0!==s&&"number"!=typeof s||"number"==typeof s&&s<0?D("Warning: maxVideoParticipantsOnScreen must be a number greater than or equal to 0. Received: ",s):i.maxVideoParticipantsOnScreen=s,i.participantName=v;var I=A.deviceLayoutMode,y=void 0===I?"auto":I,B=b(A,["deviceLayoutMode"]);return i.useMobileLayout="mobile"===y||"auto"===y&&(be.type?"mobile"===be.type:window.matchMedia("(max-device-width: 500px)").matches&&("maxTouchPoints"in navigator?navigator.maxTouchPoints>0:window.matchMedia("(pointer:coarse)").matches)),Q("Initializing room with layout manager"),i.managedLayoutOptions=g({layoutMode:"grid",isMobileLayout:i.useMobileLayout},B),i._session=n.initSession(i.apiKey,i.roomId,{iceConfig:i.iceConfig}),i._layoutManager=new K(i.roomContainer,i.managedLayoutOptions,s),i._layoutManager.on("layoutComplete",(function(){i._setOptimalSubscriberResolutions()})),i._layoutManager.on("cameraSubscriberHidden",i._onCameraSubscriberHiddenByLayoutManager),i._layoutManager.on("cameraSubscriberDisplayed",i._onCameraSubscriberDisplayedByLayoutManager),i.camera=new ae(i._session,i._getDefaultPublisherElement(),i._analytics,i.participantName),i.screen=new oe(i._session,i._getDefaultPublisherElement("screen"),i._analytics),i._activeSpeakerTracker=new le,i._activeSpeakerTracker.on("activeSpeakerChanged",i._onActiveSpeakerChanged),i._activeSpeakerTracker.on("activeSpeakerStatusChanged",i._onActiveSpeakerStatusChanged),i._analytics.log("InitRoom","Success"),i}var i;return p(t,e),t.prototype.signal=function(e){var t=this,n=e.to,i=n&&this.participants[n.id],r=ge({data:e.data,type:e.type,retryAfterReconnect:e.retryAfterReconnect,to:null==i?void 0:i.connection});return Q("Sending signal",r),new Promise((function(e,n){t._session.signal(r,(function(t){t&&(S("Signal failed",t),n(t)),e()}))}))},(i=[{key:"participantId",get:function(){var e,t,n;return null!=(e=null==(t=this._session)||null==(n=t.connection)?void 0:n.connectionId)?e:""}},{key:"participantConnectionData",get:function(){var e,t,n;return null!=(e=null==(t=this._session)||null==(n=t.connection)?void 0:n.data)?e:""}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(t.prototype,i),t}(t.EventEmitter),Ee=function(e){function t(t){var n;(n=e.call(this)||this).apiKey=t.apiKey,n.roomId=t.sessionId,n.token=t.token,n.iceConfig=t.iceConfig,n.roomContainer=t.roomContainer,n.managedLayoutOptions=t.managedLayoutOptions,n.mediaShutoffThreshold=t.mediaShutoffThreshold,n.maxVideoParticipantsOnScreen=t.maxVideoParticipantsOnScreen;var i=new he(t);return n.camera=i.camera,n.screen=i.screen,n.participants=i.participantWrappers,Object.defineProperty(m(n),"participantId",{get:function(){return i.participantId}}),Object.defineProperty(m(n),"participantName",{get:function(){return i.participantName}}),Object.defineProperty(m(n),"participantConnectionData",{get:function(){return i.participantConnectionData}}),function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.on("connected",(function(){n.emit("connected")})),i.on("disconnected",(function(e){return n.emit("disconnected",e)})),i.on("reconnecting",(function(){n.emit("reconnecting")})),i.on("reconnected",(function(){n.emit("reconnected")})),i.on("cameraPublisherMediaDisabled",(function(){n.emit("cameraPublisherMediaDisabled")})),i.on("cameraSubscriberVideoDisabled",(function(e){n.emit("cameraSubscriberVideoDisabled",e)})),i.on("participantJoined",(function(e){n.emit("participantJoined",e)})),i.on("participantLeft",(function(e,t){n.emit("participantLeft",e,t)})),i.on("activeSpeakerChanged",(function(e){n.emit("activeSpeakerChanged",e)})),i.on("signal",(function(e){var t,i,r,a=null!=(t=null==(i=e.type)||null==(r=i.split("signal:"))?void 0:r[1])?t:"";n.emit("signal",e),a&&n.emit("signal:"+a,e)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),n.join=function(e){return void 0===e&&(e={}),i.join(e)},n.leave=function(){return i.leave()},n.setLayoutMode=function(e){return i.setLayoutMode(e)},n.startScreensharing=function(e){return i.startScreensharing(e)},n.stopScreensharing=function(){return i.stopScreensharing()},n.signal=function(e){return i.signal(e)},n}return p(t,e),t}(t.EventEmitter),Me=function(e){function t(t){var n;n=e.call(this)||this;var i=new Y;n._defaultTargetElement=t;var r=new re;return n.isVideoEnabled=function(){return r.isVideoEnabled()},n.isAudioEnabled=function(){return r.isAudioEnabled()},n.enableVideo=function(){i.log("PreviewPublisherEnableVideo","Attempt"),r.enableVideo(),i.log("PreviewPublisherEnableVideo","Success")},n.disableVideo=function(){i.log("PreviewPublisherDisableVideo","Attempt"),r.disableVideo(),i.log("PreviewPublisherDisableVideo","Success")},n.enableAudio=function(){i.log("PreviewPublisherEnableAudio","Attempt"),r.enableAudio(),i.log("PreviewPublisherEnableAudio","Success")},n.disableAudio=function(){i.log("PreviewPublisherDisableAudio","Attempt"),r.disableAudio(),i.log("PreviewPublisherDisableAudio","Success")},n.getVideoDevice=function(){return r.getVideoDevice()},n.setVideoDevice=function(e){return r.setVideoDevice(e)},n.getAudioDevice=function(){return r.getAudioDevice()},n.setAudioDevice=function(e){return r.setAudioDevice(e)},n.destroy=function(){i.log("DestroyPreviewPublisher","Attempt"),r.destroyOTPublisher(),i.log("DestroyPreviewPublisher","Success")},n.previewMedia=function(){var e=d(f.mark((function e(t){var a,o,u,c;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),o=(a=t).targetElement,i.log("InitPreviewPublisher","Attempt",{publisherProperties:u=a.publisherProperties}),c=h(null!=o?o:n._defaultTargetElement),e.prev=4,r.on("audioLevelUpdated",(function(e){n.emit("audioLevelUpdated",e)})),r.on("videoElementCreated",(function(){return n.emit("created")})),r.on("destroyed",(function(){return n.emit("destroyed")})),r.on("accessAllowed",(function(){return n.emit("accessAllowed")})),r.on("accessDenied",(function(){return n.emit("accessDenied")})),r.on("accessDialogOpened",(function(){return n.emit("accessDialogOpened")})),r.on("accessDialogClosed",(function(e){return n.emit("accessDialogClosed",e)})),e.next=8,r.initOTPublisher(c,u);case 8:i.log("InitPreviewPublisher","Success"),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(4),i.log("InitPreviewPublisher","Failure",{error:e.t0}),e.t0;case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),n.setVideoFilter=function(){var e=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.log("SetVideoFilter","Attempt"),e.next=4,r.setVideoFilter(t);case 4:i.log("SetVideoFilter","Success"),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),i.log("SetVideoFilter","Failure",{error:e.t0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.clearVideoFilter=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.log("ClearVideoFilter","Attempt"),e.prev=1,e.next=4,r.clearVideoFilter();case 4:i.log("ClearVideoFilter","Success"),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),i.log("ClearVideoFilter","Failure",{error:e.t0}),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),n.setDisabledImageURI=function(e){r.setDisabledImageURI(e)},n}return p(t,e),t}(t.EventEmitter),Ce=new Y,Ie=function(){var e=d(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce.log("GetActiveAudioOutputDevice","Attempt"),e.prev=1,e.next=4,n.getActiveAudioOutputDevice();case 4:return t=e.sent,Ce.log("GetActiveAudioOutputDevice","Success"),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(1),Ce.log("GetActiveAudioOutputDevice","Failure"),new Error("Not able to get active audio output device");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ye=new Y,Se=function(){var e=d(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ye.log("GetAudioOutputDevices","Attempt"),e.prev=1,e.next=4,n.getAudioOutputDevices();case 4:return t=e.sent,ye.log("GetAudioOutputDevices","Success"),e.abrupt("return",t);case 9:throw e.prev=9,e.t0=e.catch(1),ye.log("GetAudioOutputDevices","Failure"),new Error("Not able to get available audio output device");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=d(f.mark((function e(t){var i;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(t),e.prev=1,n.setProxyUrl(t),(i=new Y).log("SetProxyUrl","Attempt"),i.log("SetProxyUrl","Success"),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("There is an issue with URL provided.");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=d(f.mark((function e(t){var i;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new Y).log("SetAudioOutputDevice","Attempt"),e.prev=2,w("Set audio output device: ",t),e.next=6,n.setAudioOutputDevice(t);case 6:i.log("SetAudioOutputDevice","Success"),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(2),i.log("SetAudioOutputDevice","Failure"),D("Not able to set the audio output device",t),new Error("Not able to set the audio output device");case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),Qe=require("../package.json").publicVersion;exports.PreviewPublisher=Me,exports.Room=Ee,exports.getActiveAudioOutputDevice=Ie,exports.getAudioOutputDevices=Se,exports.getDevices=_,exports.hasMediaProcessorSupport=function(){return n.hasMediaProcessorSupport()},exports.logLevel=I,exports.setAudioOutputDevice=we,exports.setLogLevel=function(e){Object.values(I).includes(e)?y=e:console.error("Attempting to set invalid log level: ",e)},exports.setProxyUrl=De,exports.version=Qe;
//# sourceMappingURL=video-express.cjs.production.min.js.map
