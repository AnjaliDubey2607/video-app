{"version":3,"file":"vwc-icon.js","sourceRoot":"","sources":["src/vwc-icon.ts"],"names":[],"mappings":"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","sourcesContent":["import '@vonage/vvd-core';\nimport type { IconSize, Connotation } from '@vonage/vvd-foundation/constants.js';\nimport {\n\tLitElement, html, property, customElement, CSSResult, TemplateResult,\n} from 'lit-element';\nimport { classMap } from 'lit-html/directives/class-map.js';\nimport type { ClassInfo } from 'lit-html/directives/class-map.js';\nimport { unsafeSVG } from 'lit-html/directives/unsafe-svg.js';\nimport { until } from 'lit-html/directives/until.js';\nimport { ifDefined } from 'lit-html/directives/if-defined.js';\nimport { memoizeWith, identity, always } from 'ramda';\nimport { ariaProperty } from '@material/mwc-base/aria-property.js';\nimport { style } from './vwc-icon.css.js';\n\ndeclare global {\n\tinterface HTMLElementTagNameMap {\n\t\t'vwc-icon': VWCIcon;\n\t}\n}\n\n// noinspection CssUnresolvedCustomProperty\nconst BASE_URL = 'https://icon.resources.vonage.com'; // namespaced as 3f7739a0-a898-4f69-a82b-ad9d743170b6 on icons.resources.vonage.com\nconst ICON_SET_VERSION = '4.0.30';\nconst PLACEHOLDER_ICON = '<svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"><style>@keyframes rotation { from { transform: rotate(0deg) } to { transform: rotate(360deg) } } g#circle { transform-origin: center center; animation: 1s rotation 0s linear infinite; } path { fill: currentColor }</style> <g id=\"circle\"> <path d=\"M7.5 2C3.91014 2 1 4.91014 1 8.5C1 12.0899 3.91014 15 7.5 15C11.0899 15 14 12.0899 14 8.5C14 8.22386 14.2239 8 14.5 8C14.7761 8 15 8.22386 15 8.5C15 12.6421 11.6421 16 7.5 16C3.35786 16 0 12.6421 0 8.5C0 4.35786 3.35786 1 7.5 1C10.3622 1 12.7088 2.78366 13.9478 5.27753C14.0706 5.52484 13.9698 5.82492 13.7225 5.94778C13.4752 6.07065 13.1751 5.96977 13.0522 5.72247C11.9472 3.49834 9.90985 2 7.5 2Z\"/><path d=\"M13.5 0C13.7761 0 14 0.223858 14 0.5V5.5C14 5.77614 13.7761 6 13.5 6H8.5C8.22386 6 8 5.77614 8 5.5C8 5.22386 8.22386 5 8.5 5H13V0.5C13 0.223858 13.2239 0 13.5 0Z\"/></g></svg>';\nconst PLACEHOLDER_DELAY = 500; // Start displaying placeholder if waiting more than this period of time\nconst PLACEHOLDER_TIMEOUT = 2000; // Stop displaying placeholder if exceeding this period of time (will also stop one an icon is loaded)\n\nconst delay = (ms: number) => new Promise(res => setTimeout(res, ms));\nconst baseUrlTemplate = (resource: string, version: string) => [BASE_URL, `v${version}`, resource].join('/');\n\nconst resolveIcon = memoizeWith(identity as () => string, (iconId = '') => (iconId.trim()\n\t? fetch(baseUrlTemplate([iconId, 'svg'].join('.'), ICON_SET_VERSION))\n\t\t.then(res => (res.headers.get('content-type') === 'image/svg+xml' ? res.text() : ''))\n\t: Promise.resolve(''))) as (iconId?: string) => Promise<string>;\n\nconst setSvgAttribute = (name: string, value: string) => (svgText = '') => svgText.replace(/<svg[^>]*>/, tagText => tagText.replace(/<svg[^>]+/, attributesText => attributesText.split(' ').concat([name, value].filter(Boolean).join('=')).join(' ')));\n\ntype IconConnotation = Extract<\n\tConnotation,\n\t| Connotation.Primary\n\t| Connotation.CTA\n\t| Connotation.Announcement\n\t| Connotation.Success\n\t| Connotation.Alert\n\t| Connotation.Info\n>;\n\n@customElement('vwc-icon')\nexport class VWCIcon extends LitElement {\n\tstatic override get styles(): CSSResult {\n\t\treturn style;\n\t}\n\n\t@property({ type: String, reflect: true })\n\t\tconnotation?: IconConnotation;\n\n\t@property({\n\t\tattribute: true,\n\t\ttype: String,\n\t\treflect: true,\n\t})\n\t\ttype?: string;\n\n\t@property({\n\t\tattribute: true,\n\t\ttype: Boolean,\n\t\treflect: true,\n\t})\n\t\tinline?: boolean;\n\n\t@property({\n\t\tattribute: true,\n\t\ttype: String,\n\t\treflect: true,\n\t})\n\t\tsize?: IconSize;\n\n\t@ariaProperty\n\t@property({\n\t\tattribute: 'aria-label',\n\t\ttype: String,\n\t})\n\t\tariaLabel = '';\n\n\tprotected getRenderClasses(): ClassInfo {\n\t\treturn {\n\t\t\t[`connotation-${this.connotation}`]: !!this.connotation,\n\t\t};\n\t}\n\n\toverride render(): TemplateResult {\n\t\treturn html`<figure class=\"icon ${classMap(this.getRenderClasses())}\" aria-label=\"${ifDefined(this.ariaLabel)}\">${until(\n\t\t\tresolveIcon(this.type)\n\t\t\t\t.then(setSvgAttribute('aria-hidden', 'true'))\n\t\t\t\t.then(unsafeSVG),\n\t\t\tdelay(PLACEHOLDER_TIMEOUT),\n\t\t\tdelay(PLACEHOLDER_DELAY).then(always(unsafeSVG(PLACEHOLDER_ICON)))\n\t\t)}</figure>`;\n\t}\n}\n"]}