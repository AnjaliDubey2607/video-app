{"version":3,"file":"common.js","sourceRoot":"","sources":["../src/form-association/common.ts"],"names":[],"mappings":"AAMA,SAAS,4BAA4B,CACpC,OAAgB;IAEhB,OAAO,OAAO,EAAE;QACf,MAAM,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,IAAI,EAAE;YACT,OAAO,IAAI,CAAC;SACZ;QACD,MAAM,IAAI,GAAG,OAAO,CAAC,WAAW,EAAgB,CAAC;QACjD,IAAI,CAAC,IAAI,EAAE;YACV,OAAO,IAAI,CAAC;SACZ;QACD,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;KACpB;IACD,OAAO,IAAI,CAAC;AACb,CAAC;AACD,MAAM,UAAU,oBAAoB,CACnC,OAAU;IAEV,MAAM,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IAC5C,MAAM,WAAW,GAAG,MAAM;QACzB,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC;QACjC,CAAC,CAAC,4BAA4B,CAAC,OAAO,CAAC,CAAC;IACzC,OAAO,WAAW,YAAY,eAAe,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;AACpE,CAAC","sourcesContent":["export interface InputElement extends HTMLElement {\n\tname: string | undefined;\n\ttype?: string | undefined;\n\tvalue: string;\n}\n\nfunction findClosestFormThroughShadow(\n\telement: Element\n): HTMLFormElement | null {\n\twhile (element) {\n\t\tconst form = element.closest('form');\n\t\tif (form) {\n\t\t\treturn form;\n\t\t}\n\t\tconst root = element.getRootNode() as ShadowRoot;\n\t\tif (!root) {\n\t\t\treturn null;\n\t\t}\n\t\telement = root.host;\n\t}\n\treturn null;\n}\nexport function getFormByIdOrClosest<T extends InputElement>(\n\telement: T\n): HTMLFormElement | null {\n\tconst formId = element.getAttribute('form');\n\tconst formElement = formId\n\t\t? document.getElementById(formId)\n\t\t: findClosestFormThroughShadow(element);\n\treturn formElement instanceof HTMLFormElement ? formElement : null;\n}\n"]}